# Compose 使用教程

## 概述

Compose 管理页面提供了 Docker Compose 项目的完整管理功能，包括项目的创建、编辑、启动、停止、监控等操作。

## 主要功能

### 1. 项目列表

Compose 页面以列表或卡片形式展示所有 Compose 项目。

#### 列表视图

列表视图显示项目的详细信息：
- 项目图标和名称
- 运行状态
- 服务数量
- 服务列表
- 运行时长

![](https://images.symedia.top/2026/01/18/20260118205505_0475c4fd.png)

#### 卡片视图

卡片视图以卡片形式展示项目，信息更直观。

![](https://images.symedia.top/2026/01/18/20260118205539_244f659e.png)

### 2. 创建项目

#### 创建新项目

1. 点击顶部工具栏的**新建项目**按钮（加号图标）
2. 在创建对话框中：
   - 输入项目名称
   - 编辑 Compose YAML 内容
   - 编辑环境变量（可选）
3. 点击**创建**

![](https://images.symedia.top/2026/01/18/20260118205556_8122e7dc.png)

![](https://images.symedia.top/2026/01/18/20260118205614_b76fa2ad.png)

#### YAML 编辑器功能

- **语法高亮**：自动识别 YAML 语法
- **自动补全**：输入时提供代码提示
- **错误检查**：实时检查 YAML 语法错误
- **格式化**：自动格式化 YAML 代码


### 3. 项目操作

#### 启动项目

1. 找到目标项目
2. 点击**启动**按钮（绿色播放图标）
3. 在进度对话框中查看启动日志
4. 等待所有服务启动完成

#### 停止项目

1. 找到运行中的项目
2. 点击**停止**按钮（黄色停止图标）
3. 在进度对话框中查看停止日志
4. 等待所有服务停止

#### 重启项目

1. 找到运行中的项目
2. 点击**重启**按钮（蓝色重启图标）
3. 项目将先停止再启动

#### 构建项目

重新构建项目的所有服务：

1. 点击项目的**构建**按钮（工具图标）
2. 在进度对话框中查看构建日志
3. 等待构建完成

#### 更新项目

更新项目会拉取最新镜像并重新创建服务：

1. 点击项目的**更新**按钮（绿色更新图标）
2. 在进度对话框中查看更新日志
3. 等待更新完成

#### 删除项目

1. 点击项目的**删除**按钮（红色删除图标）
2. 在确认对话框中确认删除
3. 选择是否同时删除相关资源（容器、网络、卷等）

### 4. 项目详情

点击项目名称或卡片可打开项目详情对话框。

#### 信息概览标签页

![](https://images.symedia.top/2026/01/18/20260118205657_9ae51d90.png)

#### YAML 标签页

查看和编辑项目的 Compose YAML 配置：
- 完整的 YAML 内容
- 语法高亮
- 编辑功能
- 保存更改

![](https://images.symedia.top/2026/01/18/20260118205711_f485bc02.png)

#### 日志标签页

查看项目的实时日志：
- 所有服务的日志
- 日志过滤（按服务）
- 日志搜索
- 自动滚动

![](https://images.symedia.top/2026/01/18/20260118205813_7e192719.png)

#### 环境变量标签页

管理项目的环境变量：
- 查看所有环境变量
- 添加新环境变量
- 编辑现有环境变量
- 删除环境变量

![](https://images.symedia.top/2026/01/18/20260118205840_d08facbb.png)

### 5. 批量操作

Compose 页面支持批量操作多个项目。

![](https://images.symedia.top/2026/01/18/20260118205904_af3b36b2.png)

#### 批量启动

1. 进入选择模式
2. 选择多个已停止的项目
3. 点击浮动操作栏的**启动**按钮
4. 批量启动所有选中的项目

#### 批量停止

1. 选择多个运行中的项目
2. 点击浮动操作栏的**停止**按钮
3. 批量停止所有选中的项目

#### 批量更新

1. 选择多个项目
2. 点击浮动操作栏的**更新**按钮
3. 系统会为每个项目提交更新任务
4. 在任务进度对话框中查看所有更新任务

### 6. 置顶功能

可以将常用项目置顶显示。

#### 置顶项目

1. 点击项目操作菜单中的**置顶**按钮
2. 项目将移动到列表顶部
3. 置顶的项目会显示置顶图标

#### 置顶排序

1. 点击顶部工具栏的**置顶排序**按钮
2. 在对话框中：
   - 查看所有置顶项目
   - 拖拽调整置顶顺序
   - 移除置顶
3. 点击**保存**

### 7. 公共环境变量

可以为所有 Compose 项目设置公共环境变量。

#### 编辑公共环境变量

1. 点击顶部工具栏的**编辑公共环境变量**按钮
2. 在对话框中：
   - 查看所有公共环境变量
   - 添加新环境变量
   - 编辑现有环境变量
   - 删除环境变量
3. 点击**保存**

![](https://images.symedia.top/2026/01/18/20260118205925_c8646f13.png)

![](https://images.symedia.top/2026/01/18/20260118210032_a9b5d867.png)

### 8. 一键替换环境变量

可以批量替换所有项目中的环境变量值。

#### 使用一键替换

1. 点击搜索框右侧的**一键替换环境变量**按钮
2. 在对话框中：
   - 输入要查找的环境变量名
   - 输入新的环境变量值
   - 选择要替换的项目（可选）
3. 点击**替换**
4. 查看替换结果

![](https://images.symedia.top/2026/01/18/20260118210047_104dc3c6.png)

![](https://images.symedia.top/2026/01/18/20260118210113_077c9e5f.png)

### 9. 一键备份

可以一键备份所有 Compose 项目。

#### 备份所有项目

1. 点击搜索框右侧的**一键备份所有 Compose**按钮
2. 系统开始备份所有项目
3. 在备份对话框中查看备份进度
4. 备份完成后可以下载备份文件


### 10. 搜索和筛选

#### 搜索项目

1. 在顶部搜索框输入项目名称
2. 列表自动过滤显示匹配的项目
3. 支持部分匹配搜索

#### 统计卡片筛选

点击顶部的统计卡片可以按状态筛选项目：
- **全部**：显示所有项目
- **运行中**：只显示运行中的项目
- **已停止**：只显示已停止的项目
- **其他状态**：按对应状态筛选


### 11. 排序功能

项目列表支持多种排序方式。

#### 排序选项

1. 点击顶部工具栏的排序下拉菜单
2. 选择排序方式：
   - **名称（A-Z）**：按名称字母顺序
   - **名称（Z-A）**：按名称字母倒序
   - **状态**：按运行状态排序
   - **创建时间**：按创建时间排序
   - **更新时间**：按更新时间排序

### 12. 缩放功能

可以调整项目列表的显示大小。

#### 调整缩放

1. 使用顶部工具栏的缩放滑块
2. 向左拖动缩小，向右拖动放大
3. 缩放范围：50% - 200%

## 操作技巧

1. **快速创建**：使用模板快速创建常用类型的 Compose 项目
2. **批量管理**：使用批量操作功能快速管理多个项目
3. **环境变量复用**：使用公共环境变量避免重复配置
4. **一键备份**：定期备份所有项目配置，防止数据丢失
5. **日志监控**：在详情页的日志标签页实时查看项目运行状态

## 常见问题

### Q: Compose 项目启动失败怎么办？
A: 检查 YAML 语法是否正确，查看日志标签页中的错误信息，确认所有服务配置正确。

### Q: 如何更新单个服务？
A: 在项目详情中编辑 YAML，修改对应服务的镜像版本，然后更新项目。

### Q: 公共环境变量如何生效？
A: 公共环境变量会在所有 Compose 项目启动时自动注入，无需在每个项目中单独配置。

### Q: 备份文件包含什么内容？
A: 备份文件包含所有项目的 YAML 配置和环境变量，但不包含数据卷内容。

### Q: 如何恢复备份？
A: 解压备份文件，然后使用创建项目功能逐个导入 YAML 配置。
