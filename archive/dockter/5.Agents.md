# Agent 使用教程

## 概述

Agent 管理页面用于管理远程 Docker 节点，支持添加、配置、监控多个 Agent，实现统一的容器管理。

## 主要功能

### 1. Agent 列表

Agent 页面以列表或卡片形式展示所有 Agent 节点。

#### 列表视图

列表视图显示 Agent 的详细信息：
- Agent 名称
- 远程地址
- 连接状态
- 系统信息（CPU、内存、磁盘）
- 运行时间
- 容器数量

![](https://images.symedia.top/2026/01/18/20260118210241_d349bc0c.png)

#### 卡片视图

卡片视图以卡片形式展示 Agent，信息更直观。

![](https://images.symedia.top/2026/01/18/20260118210251_e3d07e65.png)

### 2. 创建 Agent

#### 添加新 Agent

1. 点击顶部工具栏的**新建 Agent**按钮（加号图标）
2. 在创建对话框中填写信息：

**基本信息标签页**：
- **名称**：Agent 的显示名称（必填）
- **远程地址**：Agent 的访问地址，如 `http://192.168.1.100:8000`（必填）
- **Token**：Agent 的认证令牌（新建时必填）
- **Agent ID**：留空则自动生成 UUID

![](https://images.symedia.top/2026/01/18/20260118210319_47c72555.png)

![](https://images.symedia.top/2026/01/18/20260118210334_611ab82f.png)

#### 安装 Agent

在添加 Agent 之前，需要在目标服务器上安装 Agent 服务。

**安装方式说明：**

- **二进制模式**：适用于一般 Linux 系统（Debian、Ubuntu 等），可以直接通过 SSH 控制服务器
- **Docker 模式**：适用于一切系统（Mac、OpenWrt 等），但不可以 SSH 控制

**安装步骤：**

1. 点击顶部工具栏的**安装命令**按钮
2. 选择安装方式：
   - **一键安装（常规源）**：从 GitHub 下载二进制文件
   - **一键安装（国内源）**：从 CDN 下载（适合国内用户）
3. 复制安装命令
4. 在目标服务器上执行安装命令

![](https://images.symedia.top/2026/01/18/20260118210631_fab0e807.png)

### 3. Agent 配置

#### 编辑 Agent

1. 点击 Agent 卡片或列表项
2. 在编辑对话框中修改信息：

**基本信息**：
- 修改名称
- 修改远程地址
- 更新 Token（可选）

**套餐信息标签页**：
- **Agent 类型**：免费或付费
- **价格**：付费类型设置价格
- **货币单位**：选择货币类型
- **账单周期**：设置计费周期（天）
- **过期时间**：设置到期时间
- **自动续期**：到期后自动续期
- **流量限制**：设置流量上限（GB）
- **流量限制类型**：总和/最大值/最小值/仅上传/仅下载
- **流量刷新日**：每月流量重置日期
- **带宽限制**：设置带宽上限（Mbps）
- **缺省流量**：填充缺失日期的流量值

![](https://images.symedia.top/2026/01/18/20260118210703_9a2bc620.png)

**流量统计标签页**：
- 查看流量统计图表
- 选择时间范围（7天/15天/1个月）
- 查看上传和下载流量
- 查看总流量统计

![](https://images.symedia.top/2026/01/18/20260118210715_8a466150.png)

### 4. Agent 操作

#### 测试连接

1. 点击 Agent 的**测试**按钮
2. 系统会测试：
   - 网络连通性
   - Token 认证
3. 在测试结果对话框中查看结果

![](https://images.symedia.top/2026/01/18/20260118210724_8b85708e.png)

![](https://images.symedia.top/2026/01/18/20260118210734_3c27a949.png)

#### 更新Agent

![](https://images.symedia.top/2026/01/18/20260118210802_325d9b0f.png)

#### 打开终端

访问 Agent 服务器的终端：

1. 点击 Agent 的**终端**按钮
2. 在终端对话框中：
   - 输入命令
   - 查看命令输出
   - 执行系统操作

![](https://images.symedia.top/2026/01/18/20260118210810_2da8ef30.png)


### 5. 批量操作

Agent 页面支持批量操作多个 Agent。

![](https://images.symedia.top/2026/01/18/20260118210829_905e95ca.png)

#### 批量测试

1. 进入选择模式
2. 选择多个 Agent
3. 点击浮动操作栏的**测试**按钮
4. 批量测试所有选中的 Agent 连接


#### 批量更新

1. 选择多个 Agent
2. 点击浮动操作栏的**更新**按钮
3. 批量更新所有选中 Agent 的容器列表

#### 批量删除

1. 选择多个 Agent
2. 点击浮动操作栏的**删除**按钮
3. 在确认对话框中确认批量删除


### 6. Agent 切换

在 Agent 列表中选择 Agent 后，容器管理、Compose 管理等页面会切换到该 Agent，显示该 Agent 上的资源。

#### 切换 Agent

1. 在 Agent 列表中点击要使用的 Agent
2. 系统自动切换到该 Agent
3. 其他页面会显示该 Agent 上的容器和项目

![](https://images.symedia.top/2026/01/18/20260118210852_0e6fcf35.png)

### 7. 排序功能

Agent 列表支持拖拽排序。

#### 拖拽排序

1. 将鼠标放到Agent的标题上
2. 拖拽 Agent 项到目标位置
3. 排序自动保存

![](https://images.symedia.top/2026/01/18/20260118211000_2f0e330b.png)


## 操作技巧

1. **快速添加**：使用安装命令快速在服务器上部署 Agent
2. **批量管理**：使用批量操作功能快速管理多个 Agent
3. **流量监控**：在流量统计标签页查看 Agent 的流量使用情况
4. **系统监控**：实时查看 Agent 服务器的资源使用情况
5. **套餐管理**：为付费 Agent 设置套餐信息，便于计费管理

## 常见问题

### Q: Agent 连接失败怎么办？
A: 检查网络连通性，确认 Agent 服务正在运行，验证 Token 是否正确。

### Q: 如何更新 Agent 服务？
A: 在 Agent 服务器上重新执行安装命令，或使用 Docker 更新容器。

### Q: 流量统计不准确？
A: 检查流量限制类型设置，确认流量刷新日配置正确。

### Q: 如何查看 Agent 的详细日志？
A: 使用终端功能连接到 Agent 服务器，查看 Agent 服务日志。

### Q: 多个 Agent 如何切换？
A: 在 Agent 列表中点击要使用的 Agent，系统会自动切换，其他页面会显示该 Agent 的资源。
